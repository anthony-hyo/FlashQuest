<!DOCTYPE html>
<html lang="pt-BR">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>SWF Renderer - Renderizador de Flash Perfeito</title>
	<style>
		* {
			margin: 0;
			padding: 0;
			box-sizing: border-box;
		}

		body {
			font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			min-height: 100vh;
			padding: 20px;
		}

		.container {
			max-width: 1200px;
			margin: 0 auto;
			background: white;
			border-radius: 15px;
			box-shadow: 0 20px 40px rgba(0,0,0,0.1);
			overflow: hidden;
		}

		.header {
			background: linear-gradient(135deg, #ff6b6b 0%, #ee5a24 100%);
			color: white;
			padding: 30px;
			text-align: center;
		}

		.header h1 {
			font-size: 2.5em;
			margin-bottom: 10px;
			text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
		}

		.header p {
			font-size: 1.2em;
			opacity: 0.9;
		}

		.content {
			padding: 40px;
		}

		.upload-area {
			border: 3px dashed #ddd;
			border-radius: 10px;
			padding: 40px;
			text-align: center;
			margin-bottom: 30px;
			transition: all 0.3s ease;
			cursor: pointer;
		}

		.upload-area:hover {
			border-color: #667eea;
			background: #f8f9ff;
		}

		.upload-area.dragover {
			border-color: #667eea;
			background: #e3f2fd;
			transform: scale(1.02);
		}

		.upload-icon {
			font-size: 4em;
			color: #ddd;
			margin-bottom: 20px;
		}

		.upload-text {
			font-size: 1.3em;
			color: #666;
			margin-bottom: 15px;
		}

		.upload-hint {
			color: #999;
			font-size: 0.9em;
		}

		.file-input {
			display: none;
		}

		.btn {
			background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
			color: white;
			border: none;
			padding: 12px 30px;
			border-radius: 25px;
			font-size: 1em;
			cursor: pointer;
			transition: all 0.3s ease;
			margin: 10px;
		}

		.btn:hover {
			transform: translateY(-2px);
			box-shadow: 0 10px 20px rgba(0,0,0,0.2);
		}

		.canvas-container {
			text-align: center;
			margin: 30px 0;
			padding: 20px;
			background: #f8f9fa;
			border-radius: 10px;
		}

		#swf-canvas {
			max-width: 100%;
			height: auto;
			border: 2px solid #ddd;
			border-radius: 8px;
			box-shadow: 0 10px 30px rgba(0,0,0,0.1);
		}

		.info-panel {
			background: #f8f9fa;
			border-radius: 10px;
			padding: 20px;
			margin: 20px 0;
			display: none;
		}

		.info-panel.visible {
			display: block;
		}

		.info-grid {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
			gap: 15px;
		}

		.info-item {
			background: white;
			padding: 15px;
			border-radius: 8px;
			border-left: 4px solid #667eea;
		}

		.info-label {
			font-weight: bold;
			color: #333;
			margin-bottom: 5px;
		}

		.info-value {
			color: #666;
			font-size: 1.1em;
		}

		.status {
			padding: 15px;
			border-radius: 8px;
			margin: 15px 0;
			display: none;
		}

		.status.visible {
			display: block;
		}

		.status.loading {
			background: #e3f2fd;
			color: #1976d2;
			border-left: 4px solid #2196f3;
		}

		.status.success {
			background: #e8f5e8;
			color: #2e7d32;
			border-left: 4px solid #4caf50;
		}

		.status.error {
			background: #ffebee;
			color: #c62828;
			border-left: 4px solid #f44336;
		}

		.features {
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
			gap: 20px;
			margin: 30px 0;
		}

		.feature {
			background: white;
			padding: 25px;
			border-radius: 10px;
			text-align: center;
			box-shadow: 0 5px 15px rgba(0,0,0,0.1);
			transition: transform 0.3s ease;
		}

		.feature:hover {
			transform: translateY(-5px);
		}

		.feature-icon {
			font-size: 3em;
			margin-bottom: 15px;
		}

		.feature h3 {
			color: #333;
			margin-bottom: 10px;
		}

		.feature p {
			color: #666;
			line-height: 1.6;
		}

		@media (max-width: 768px) {
			.container {
				margin: 10px;
				border-radius: 10px;
			}

			.content {
				padding: 20px;
			}

			.header h1 {
				font-size: 2em;
			}

			.upload-area {
				padding: 20px;
			}
		}
	</style>
</head>
<body>
<div class="container">
	<div class="header">
		<h1>üé¨ SWF Renderer</h1>
		<p>Renderizador de Flash Perfeito com WebGL</p>
	</div>

	<div class="content">
		<div class="upload-area" id="uploadArea">
			<div class="upload-icon">üìÅ</div>
			<div class="upload-text">Arraste um arquivo SWF aqui</div>
			<div class="upload-hint">ou clique para selecionar</div>
			<input type="file" class="file-input" id="fileInput" accept=".swf">
		</div>

		<div class="status" id="status"></div>

		<div class="canvas-container">
			<canvas id="swf-canvas" width="800" height="600"></canvas>
		</div>

		<div class="info-panel" id="infoPanel">
			<h3 style="margin-bottom: 20px; color: #333;">üìä Informa√ß√µes do Arquivo</h3>
			<div class="info-grid">
				<div class="info-item">
					<div class="info-label">Vers√£o SWF</div>
					<div class="info-value" id="swfVersion">-</div>
				</div>
				<div class="info-item">
					<div class="info-label">Dimens√µes</div>
					<div class="info-value" id="swfDimensions">-</div>
				</div>
				<div class="info-item">
					<div class="info-label">Frame Rate</div>
					<div class="info-value" id="swfFrameRate">-</div>
				</div>
				<div class="info-item">
					<div class="info-label">Total de Frames</div>
					<div class="info-value" id="swfFrames">-</div>
				</div>
			</div>
		</div>

		<div class="features">
			<div class="feature">
				<div class="feature-icon">‚ö°</div>
				<h3>Renderiza√ß√£o WebGL</h3>
				<p>Utiliza WebGL para renderiza√ß√£o acelerada por hardware, garantindo performance m√°xima</p>
			</div>
			<div class="feature">
				<div class="feature-icon">üé®</div>
				<h3>Formas Vetoriais</h3>
				<p>Suporte completo para formas vetoriais, gradientes e transforma√ß√µes complexas</p>
			</div>
			<div class="feature">
				<div class="feature-icon">üé¨</div>
				<h3>Anima√ß√µes Fluidas</h3>
				<p>Reprodu√ß√£o suave de anima√ß√µes com controle preciso de timeline e frames</p>
			</div>
			<div class="feature">
				<div class="feature-icon">üîß</div>
				<h3>Parser Completo</h3>
				<p>Parser SWF completo que suporta todas as tags principais e recursos avan√ßados</p>
			</div>
		</div>
	</div>
</div>

<script>
	// Configura√ß√£o da interface
	const uploadArea = document.getElementById('uploadArea');
	const fileInput = document.getElementById('fileInput');
	const status = document.getElementById('status');
	const infoPanel = document.getElementById('infoPanel');

	function showStatus(message, type) {
		status.textContent = message;
		status.className = `status visible ${type}`;

		if (type === 'success') {
			setTimeout(() => {
				status.classList.remove('visible');
			}, 3000);
		}
	}

	function updateInfo(info) {
		document.getElementById('swfVersion').textContent = info.version || '-';
		document.getElementById('swfDimensions').textContent = info.dimensions || '-';
		document.getElementById('swfFrameRate').textContent = info.frameRate || '-';
		document.getElementById('swfFrames').textContent = info.frames || '-';
		infoPanel.classList.add('visible');
	}

	// Upload de arquivo
	uploadArea.addEventListener('click', () => fileInput.click());

	uploadArea.addEventListener('dragover', (e) => {
		e.preventDefault();
		uploadArea.classList.add('dragover');
	});

	uploadArea.addEventListener('dragleave', () => {
		uploadArea.classList.remove('dragover');
	});

	uploadArea.addEventListener('drop', async (e) => {
		e.preventDefault();
		uploadArea.classList.remove('dragover');

		const files = e.dataTransfer.files;
		if (files.length > 0) {
			await handleFile(files[0]);
		}
	});

	fileInput.addEventListener('change', async (e) => {
		if (e.target.files.length > 0) {
			await handleFile(e.target.files[0]);
		}
	});

	async function handleFile(file) {
		if (!file.name.toLowerCase().endsWith('.swf')) {
			showStatus('Por favor, selecione um arquivo .swf', 'error');
			return;
		}

		try {
			showStatus('Carregando arquivo SWF...', 'loading');

			// Aguardar o SWFRenderer estar dispon√≠vel
			if (typeof window.swfRenderer === 'undefined') {
				showStatus('Aguardando carregamento do renderizador...', 'loading');
				await new Promise(resolve => {
					const checkRenderer = () => {
						if (window.swfRenderer) {
							resolve();
						} else {
							setTimeout(checkRenderer, 100);
						}
					};
					checkRenderer();
				});
			}

			await window.swfRenderer.loadSWF(file);

			showStatus(`Arquivo "${file.name}" carregado com sucesso!`, 'success');

			// Atualizar informa√ß√µes (simulado por enquanto)
			updateInfo({
				version: 'Detectando...',
				dimensions: `${window.swfRenderer.canvas?.width || 800}x${window.swfRenderer.canvas?.height || 600}`,
				frameRate: 'Detectando...',
				frames: window.swfRenderer.getTotalFrames?.() || 'Detectando...'
			});

		} catch (error) {
			console.error('Erro ao carregar SWF:', error);
			showStatus(`Erro ao carregar arquivo: ${error.message}`, 'error');
		}
	}

	// Mostrar informa√ß√µes iniciais
	console.log('üé¨ SWF Renderer inicializado!');
	console.log('üìÅ Arraste um arquivo SWF para come√ßar');
</script>
</body>
</html>

